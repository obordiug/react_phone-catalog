(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{20:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var s=c(12),a=c.n(s),n=c(4),r=c(0),i=c.n(r),o=c(2),l=(c(20),c(3));function u(e){return fetch("".concat("https://mate-academy.github.io/react_phone-catalog/api").concat(e)).then((function(e){return e.ok?e.json():Promise.reject(new Error("".concat(e.status," - ").concat(e.statusText)))}))}var d=c(1),j=i.a.createContext({products:[],setProducts:function(){},loading:!1,setLoading:function(){},phones:[],setPhones:function(){},tablets:[],setTablets:function(){},accessories:[],setAccessories:function(){},hotPriceProducts:[],setHotPriceProducts:function(){},brandNewProducts:[],setBrandNewProducts:function(){},suggestedProducts:[],setSuggestedProducts:function(){}}),b=function(e){var t=e.children,c=Object(r.useState)([]),s=Object(l.a)(c,2),a=s[0],n=s[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),b=o[0],m=o[1],_=Object(r.useState)([]),O=Object(l.a)(_,2),h=O[0],p=O[1],x=Object(r.useState)([]),v=Object(l.a)(x,2),g=v[0],f=v[1],N=Object(r.useState)([]),C=Object(l.a)(N,2),y=C[0],P=C[1],k=Object(r.useState)([]),S=Object(l.a)(k,2),T=S[0],I=S[1],B=Object(r.useState)([]),D=Object(l.a)(B,2),F=D[0],A=D[1],w=Object(r.useState)([]),q=Object(l.a)(w,2),M=q[0],E=q[1];Object(r.useEffect)((function(){try{u("/products.json").then((function(e){n(e),m(!0)}))}catch(e){m(!1)}}),[]),Object(r.useEffect)((function(){p(a.filter((function(e){return"phone"===e.type}))),f(a.filter((function(e){return"tablet"===e.type}))),P(a.filter((function(e){return"accessory"===e.type}))),I(a.filter((function(e){return e.discount>0})).sort((function(e,t){return e.discount/100-t.discount/100}))),A(a.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))),E(a.sort((function(){return Math.random()-.5})))}),[a]);var L=Object(r.useMemo)((function(){return{products:a,setProducts:n,loading:b,setLoading:m,phones:h,setPhones:p,tablets:g,setTablets:f,accessories:y,setAccessories:P,hotPriceProducts:T,setHotPriceProducts:I,brandNewProducts:F,setBrandNewProducts:A,suggestedProducts:M,setSuggestedProducts:E}}),[a,b]);return Object(d.jsx)(j.Provider,{value:L,children:t})},m=c(9),_=c(7),O=i.a.createContext({cart:[],setCart:function(){},addToCart:function(){},removeFromCart:function(){},increase:function(){},decrease:function(){},totalAmount:0,totalQuantity:0}),h=function(e){var t=e.children,c=Object(r.useState)(JSON.parse(localStorage.getItem("cart")||"[]")),s=Object(l.a)(c,2),a=s[0],n=s[1];Object(r.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(a))}),[a]);var i=function(e){var t=Object(_.a)(Object(_.a)({},e),{},{quantityInCart:1});n([].concat(Object(m.a)(a),[t]))},o=function(e){n(a.filter((function(t){return t.id!==e})))},u=function(e){var t=a.map((function(t){return t.id!==e?t:Object(_.a)(Object(_.a)({},t),{},{quantityInCart:t.quantityInCart+1})}));n(t)},j=function(e){var t=a.map((function(t){return t.id!==e?t:Object(_.a)(Object(_.a)({},t),{},{quantityInCart:t.quantityInCart-1})}));n(t)},b=Object(r.useMemo)((function(){return a.reduce((function(e,t){var c=t.discount,s=t.price,a=t.quantityInCart;return e+(c>0?Math.round(s-s*(c/100))*a:s*a)}),0)}),[a]),h=Object(r.useMemo)((function(){return a.reduce((function(e,t){return e+t.quantityInCart}),0)}),[a]),p=Object(r.useMemo)((function(){return{cart:a,setCart:n,addToCart:i,removeFromCart:o,increase:u,decrease:j,totalAmount:b,totalQuantity:h}}),[a]);return Object(d.jsx)(O.Provider,{value:p,children:t})},p=i.a.createContext({favourites:[],setFavourites:function(){},isFavouriteToggle:function(){}}),x=function(e){var t=e.children,c=Object(r.useState)(JSON.parse(localStorage.getItem("favourites")||"[]")),s=Object(l.a)(c,2),a=s[0],n=s[1];Object(r.useEffect)((function(){localStorage.setItem("favourites",JSON.stringify(a))}),[a]);var i=function(e){var t=a.some((function(t){return t.id===e.id}));n(t?a.filter((function(t){return t.id!==e.id})):[].concat(Object(m.a)(a),[e]))},o=Object(r.useMemo)((function(){return{favourites:a,setFavourites:n,isFavouriteToggle:i}}),[a]);return Object(d.jsx)(p.Provider,{value:o,children:t})},v=c(13),g=c(5),f=c.n(g),N=function(){var e=Object(o.g)(),t=e.pathname,c=e.search,s=Object(n.d)(c),a=Object(l.a)(s,2),i=a[0],u=a[1],j=Object(r.useState)(i.get("query")||""),b=Object(l.a)(j,2),m=b[0],_=b[1],O=Object(r.useCallback)(Object(v.debounce)((function(e){e.trim()?i.set("query",e):i.delete("query"),u(i)}),500),[i]);return Object(r.useEffect)((function(){c.includes("query")||_("")}),[t]),Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)("input",{type:"text",className:f()("search__input",{"search__input--focus":m}),placeholder:"Search in ".concat(t.slice(1),"..."),value:m,onChange:function(e){_(e.target.value),O(e.target.value)}}),m&&Object(d.jsx)("button",{type:"button",className:"search__button",onClick:function(){_(""),i.delete("query"),u(i)}})]})},C=function(){var e=Object(o.g)().pathname,t=Object(r.useContext)(p).favourites,c=Object(r.useContext)(O),s=c.cart,a=c.totalQuantity;return Object(d.jsxs)("header",{className:"header page__header",children:[Object(d.jsxs)("div",{className:"header__links",children:[Object(d.jsx)(n.c,{to:"/",className:"logo"}),"/cart"!==e&&Object(d.jsxs)("nav",{className:"nav",children:[Object(d.jsx)(n.c,{to:"/",className:function(e){return e.isActive?"nav__link nav__link--active":"nav__link"},children:"Home"}),Object(d.jsx)(n.c,{to:"/phones",className:function(e){return e.isActive?"nav__link nav__link--active":"nav__link"},children:"Phones"}),Object(d.jsx)(n.c,{to:"/tablets",className:function(e){return e.isActive?"nav__link nav__link--active":"nav__link"},children:"Tablets"}),Object(d.jsx)(n.c,{to:"/accessories",className:function(e){return e.isActive?"nav__link nav__link--active":"nav__link"},children:"Accessories"})]})]}),Object(d.jsxs)("div",{className:"header__icons-link",children:[("/phones"===e||"/tablets"===e||"/accessories"===e||"/favourites"===e)&&Object(d.jsx)(N,{}),"/cart"!==e&&Object(d.jsx)(n.c,{to:"/favourites",className:function(e){return e.isActive?"icon-link icon-link--favourites icon-link--active":"icon-link icon-link--favourites"},children:t.length>0&&Object(d.jsx)("div",{className:"icon-link-count",children:t.length})}),Object(d.jsx)(n.c,{to:"/cart",className:function(e){return e.isActive?"icon-link icon-link--cart icon-link--active":"icon-link icon-link--cart"},children:s.length>0&&Object(d.jsx)("div",{className:"icon-link-count",children:a})})]})]})},y=function(){var e=Object(o.g)().pathname;return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"container container--footer",children:Object(d.jsxs)("div",{className:"footer__links",children:[Object(d.jsx)(n.c,{to:"/",className:"logo logo--footer"}),Object(d.jsx)("a",{href:"https://github.com/obordiug",className:"nav__link-footer",rel:"noopener noreferrer",target:"_blank",children:"Github"}),Object(d.jsx)("button",{type:"button",className:f()("footer__backToTopButton",{"footer__backToTopButton--cart":"/cart"===e}),onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Back to top"})]})})})},P=function(){return Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(C,{}),Object(d.jsx)("main",{className:"page__main",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(o.a,{})})}),Object(d.jsx)(y,{})]})},k=function(e){var t=e.product,c=Object(r.useContext)(O),s=c.cart,a=c.addToCart,i=Object(r.useContext)(p),o=i.favourites,l=i.isFavouriteToggle,u=t.name,j=t.imageUrl,b=t.discount,m=t.price,_=t.screen,h=t.capacity,x=t.ram,v=t.id,g=t.type,N={Screen:_,Capacity:h,Ram:x},C=Object.entries(N),y=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(d.jsxs)("div",{className:"productCard",children:[Object(d.jsx)("div",{className:"productCard__foto",children:Object(d.jsx)(n.b,{to:"/".concat(g,"s/").concat(v),onClick:y,children:Object(d.jsx)("img",{src:j,alt:"".concat(u),className:"productCard__image"})})}),Object(d.jsx)(n.b,{to:"/".concat(g,"s/").concat(v),className:"productCard__title",onClick:y,children:u}),Object(d.jsxs)("div",{className:"productCard__cost",children:[Object(d.jsx)("div",{className:"productCard__price",children:"$".concat(b>0?Math.round(m-m*(b/100)):m)}),b>0&&Object(d.jsxs)("div",{className:"productCard__priceInitial",children:["$",m]})]}),Object(d.jsx)("div",{className:"productCard__line"}),Object(d.jsx)("div",{className:"productCard__tech-specs",children:C.map((function(e){return Object(d.jsxs)("div",{className:"productCard__tech-specs-item",children:[Object(d.jsx)("div",{className:"productCard__tech-specs-name",children:e[0]}),Object(d.jsx)("div",{className:"productCard__tech-specs-value",children:e[1]||"-"})]},e[0])}))}),Object(d.jsxs)("div",{className:"productCard__buttons",children:[Object(d.jsx)("button",{type:"button",className:f()("productCard__buttonToCart",{"productCard__buttonToCart--inCart":s.some((function(e){return e.id===v}))}),disabled:s.some((function(e){return e.id===v})),onClick:function(){return a(t)},children:s.some((function(e){return e.id===v}))?"Added to cart":"Add to cart"}),Object(d.jsx)("button",{type:"button",className:f()("productCard__buttonToFavourites",{"productCard__buttonToFavourites--isFavourite":o.some((function(e){return e.id===v}))}),onClick:function(){return l(t)}})]})]})},S=function(e){var t=e.products;return Object(d.jsx)("ul",{className:"productList","data-cy":"cardsContainer",children:t.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(k,{product:e})},e.id)}))})},T=function(e){var t=e.title,c=e.products,s=Object(r.useState)(0),a=Object(l.a)(s,2),n=a[0],i=a[1],o=c.length-4,u=Object(r.useMemo)((function(){return Object(m.a)(c).splice(n,4)}),[n,c]);return Object(d.jsxs)("div",{className:"productsSlider",children:[Object(d.jsxs)("div",{className:"productsSlider__top",children:[Object(d.jsx)("h2",{className:"productsSlider__title",children:t}),Object(d.jsxs)("div",{className:"productsSlider__buttons",children:[Object(d.jsx)("button",{type:"button",className:"productsSlider__button productsSlider__button--prev",disabled:0===n,onClick:function(){i(n<0?0:n-4)}}),Object(d.jsx)("button",{type:"button",className:"productsSlider__button productsSlider__button--next",disabled:n===o,onClick:function(){i(n>o?o:n+4)}})]})]}),Object(d.jsx)(S,{products:u})]})},I=function(){var e=Object(r.useContext)(j),t=e.phones,c=e.tablets,s=e.accessories;return Object(d.jsxs)("div",{className:"shopByCategory",children:[Object(d.jsx)("h2",{className:"shopByCategory__title",children:"Shop by category"}),Object(d.jsxs)("div",{className:"shopByCategory__items",children:[Object(d.jsxs)("div",{className:"shopByCategory__item",children:[Object(d.jsx)("div",{className:" shopByCategory__item-image shopByCategory__item-image--phones",children:Object(d.jsx)(n.b,{to:"/phones",className:"shopByCategory__item-link"})}),Object(d.jsxs)("div",{className:"shopByCategory__item-content",children:[Object(d.jsx)(n.b,{to:"/phones",className:"shopByCategory__item-title",children:"Mobile phones"}),Object(d.jsx)("div",{className:"shopByCategory__item-number",children:"".concat(t.length," models")})]})]}),Object(d.jsxs)("div",{className:"shopByCategory__item",children:[Object(d.jsx)("div",{className:" shopByCategory__item-image shopByCategory__item-image--tablets",children:Object(d.jsx)(n.b,{to:"/tablets",className:"shopByCategory__item-link"})}),Object(d.jsxs)("div",{className:"shopByCategory__item-content",children:[Object(d.jsx)(n.b,{to:"/tablets",className:"shopByCategory__item-title",children:"Tablets"}),Object(d.jsx)("div",{className:"shopByCategory__item-number",children:"".concat(c.length," models")})]})]}),Object(d.jsxs)("div",{className:"shopByCategory__item",children:[Object(d.jsx)("div",{className:" shopByCategory__item-image shopByCategory__item-image--accessories",children:Object(d.jsx)(n.b,{to:"/accessories",className:"shopByCategory__item-link"})}),Object(d.jsxs)("div",{className:"shopByCategory__item-content",children:[Object(d.jsx)(n.b,{to:"/accessories",className:"shopByCategory__item-title",children:"Accessories"}),Object(d.jsx)("div",{className:"shopByCategory__item-number",children:"".concat(s.length," models")})]})]})]})]})},B=["img/banner/banner1.jpg","img/banner/banner2.jpg","img/banner/banner3.jpg"],D=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),c=t[0],s=t[1],a=B.length,n=Array.from(Array(a)).map((function(e,t){return t})),i=function(e){var t=e;t<0?t=a-1:t>a-1&&(t=0),s(t)};return Object(r.useEffect)((function(){var e=setTimeout((function(){i(c+1)}),5e3);return function(){clearTimeout(e)}}),[c]),Object(d.jsxs)("div",{className:"banner",children:[Object(d.jsxs)("div",{className:"banner__slider",children:[Object(d.jsx)("button",{type:"button",className:"banner__button banner__button--prev",onClick:function(){return i(c-1)}}),Object(d.jsx)("div",{className:"banner__image",children:Object(d.jsx)("img",{src:B[c],alt:"phones"})}),Object(d.jsx)("button",{type:"button",className:"banner__button banner__button--next",onClick:function(){return i(c+1)}})]}),Object(d.jsx)("div",{className:"banner__dots",children:n.map((function(e){return Object(d.jsx)("button",{type:"button",className:f()("banner__dot",{"banner__dot--active":e===c}),onClick:function(){return s(e)}},e)}))})]})},F=function(){var e=Object(r.useContext)(j),t=e.hotPriceProducts,c=e.brandNewProducts;return Object(d.jsxs)("div",{className:"page__homePage",children:[Object(d.jsx)("section",{className:"page__section",children:Object(d.jsx)(D,{})}),Object(d.jsx)("section",{className:"page__section",children:Object(d.jsx)(T,{title:"Hot prices",products:t})}),Object(d.jsx)("section",{className:"page__section",children:Object(d.jsx)(I,{})}),Object(d.jsx)("section",{className:"page__section",children:Object(d.jsx)(T,{title:"Brand new models",products:c})})]})},A=c(14),w=function(){var e=Object(A.a)();return Object(d.jsx)("nav",{className:"breadcrumbs",children:Object(d.jsx)("ul",{className:"breadcrumbs__list",children:e.map((function(e,t,c){var s=e.breadcrumb,a=e.match;return Object(d.jsxs)("li",{className:"breadcrumbs__item",children:[Object(d.jsx)(n.b,{to:a.pathname,className:f()("breadcrumbs__link",{"breadcrumbs__link--disabled":c.length-1===t}),children:0===t?Object(d.jsx)("div",{className:"breadcrumbs__link-home"}):s}),c.length-1===t?"":Object(d.jsx)("div",{className:"breadcrumbs__separator"})]},a.pathname)}))})})},q=function(e){var t=e.title,c=e.options,s=e.value,a=e.onChange,n=Object(r.useState)(!1),i=Object(l.a)(n,2),o=i[0],u=i[1],j=function(){u((function(e){return!e}))};return Object(d.jsxs)("div",{className:"select",children:[Object(d.jsx)("div",{className:"select__title",children:t}),Object(d.jsx)("button",{type:"button",className:f()("select__button",{"select__button--isOpen":o}),onClick:j,children:s}),o&&Object(d.jsx)("ul",{className:"select__list",children:c.map((function(e){return Object(d.jsx)("li",{className:"select__item",onClick:function(){a(e),j()},children:e},e)}))})]})},M=(c(24),c(15)),E=function(){return Object(d.jsxs)("div",{className:"loader",children:[Object(d.jsx)(M.a,{color:"#89939A",height:50,width:50}),Object(d.jsx)("div",{className:"loader__message",children:"Loading ..."})]})},L=function(e){var t=e.total,c=e.perPage,s=e.page,a=e.onPrevPage,i=e.onNextPage,l=e.onPageChange,u=Object(o.g)(),j=u.pathname,b=u.search,m=Object(r.useMemo)((function(){return"all"===c?0:Math.ceil(t/+c)}),[c,t]),_=Object(r.useMemo)((function(){return Array.from(Array(m)).map((function(e,t){return t+1}))}),[m]);return Object(d.jsx)("div",{className:"pagination",children:Object(d.jsxs)("ul",{className:"pagination__list",children:[Object(d.jsx)("li",{className:"pagination__item",children:Object(d.jsx)(n.b,{to:"".concat(j).concat(b),className:f()("pagination__link pagination__link--prev",{"pagination__link-disabled-prev":1===s}),onClick:a})}),_.map((function(e){return Object(d.jsx)("li",{className:"pagination__item",children:Object(d.jsx)(n.b,{to:"".concat(j).concat(b),className:f()("pagination__link",{"pagination__link--active":s===e}),onClick:function(){return l(e)},children:e})},Math.random())})),Object(d.jsx)("li",{className:"pagination__item",children:Object(d.jsx)(n.b,{to:"".concat(j).concat(b),className:f()("pagination__link pagination__link--next",{"pagination__link-disabled-next":s===m}),onClick:i})})]})})},R=function(e){var t=e.title;return Object(d.jsx)("h1",{className:"noResults-title",children:"".concat(t," not found")})},$=function(e){var t=e.query;return Object(d.jsxs)("div",{className:"noSearchResults",children:["Unfortunately, we did not find a product called"," ",Object(d.jsx)("em",{className:"noSearchResults__query",children:t}),". Please try again."]})},J=function(e){var t=e.products,c=e.title,s=Object(r.useContext)(j).loading,a=Object(r.useState)("Newest"),i=Object(l.a)(a,2),o=i[0],u=i[1],b=Object(r.useState)("4"),m=Object(l.a)(b,2),_=m[0],O=m[1],h=Object(r.useState)(1),p=Object(l.a)(h,2),x=p[0],v=p[1],g=Object(n.d)(),f=Object(l.a)(g,2),N=f[0],C=f[1],y=N.get("sort"),P=N.get("query")||"",k=Object(r.useMemo)((function(){return P?t.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())})):[]}),[P]);Object(r.useEffect)((function(){if(0===t.length){Object.keys(Object.fromEntries(N.entries())).forEach((function(e){N.delete(e)})),C(N)}else{switch(o){case"Newest":N.set("sort","age");break;case"Alphabetically":N.set("sort","name");break;case"Cheapest":N.set("sort","price")}N.set("page","".concat(x)),N.set("perPage","".concat(_)),C(N)}}),[t,o,x,_]);var T=Object(r.useMemo)((function(){var e;if(y)switch(y){case"age":e=t.sort((function(e,t){return e[y]-t[y]}));break;case"price":e=t.sort((function(e,t){return e[y]-e[y]*(e.discount/100)-(t[y]-t[y]*(t.discount/100))}));break;case"name":e=t.sort((function(e,t){return e[y].localeCompare(t[y])}))}if(e=t,"all"===_)return e;var c=x*+_,s=c-+_;return e.slice(s,c)}),[t,y,x,_]);return Object(d.jsx)("div",{className:"productsPage",children:P?Object(d.jsx)(d.Fragment,{children:k.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:" productsPage__number productsPage__number--found",children:"".concat(k.length," ").concat(k.length>1?"results":"result")}),Object(d.jsx)(S,{products:k})]}):Object(d.jsx)($,{query:P})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"productsPage__nav",children:Object(d.jsx)(w,{})}),0===t.length?Object(d.jsx)(R,{title:c}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"productsPage__top",children:[Object(d.jsx)("h1",{className:"productsPage__title",children:c}),Object(d.jsx)("div",{className:"productsPage__number",children:"".concat(t.length," ").concat(t.length>1?"models":"model")})]}),Object(d.jsxs)("div",{className:"productsPage__sort-block",children:[Object(d.jsx)(q,{title:"Sort by",options:["Newest","Alphabetically","Cheapest"],value:o,onChange:function(e){return u(e)}}),Object(d.jsx)(q,{title:"Items on page",options:["all","4","8","16"],value:_,onChange:function(e){O(e),v(1)}})]})]}),Object(d.jsx)("div",{className:"productsPage__productList",children:s?Object(d.jsx)(S,{products:T}):Object(d.jsx)(E,{})}),"all"!==_&&+_<t.length&&t.length>0&&Object(d.jsx)("div",{className:"productsPage__pagination",children:Object(d.jsx)(L,{total:t.length,perPage:_,page:x,onPageChange:function(e){v(e)},onPrevPage:function(){v((function(e){return e-1}))},onNextPage:function(){v((function(e){return e+1}))}})})]})})},H=function(){var e=Object(r.useContext)(j).phones;return Object(d.jsx)(J,{products:e,title:"Mobile phones"})},Q=function(){var e=Object(r.useContext)(j).tablets;return Object(d.jsx)(J,{products:e,title:"Tablets"})},U=function(){var e=Object(r.useContext)(j).accessories;return Object(d.jsx)(J,{products:e,title:"Accessories"})},Y=function(){var e=Object(r.useContext)(p).favourites,t=Object(n.d)(),c=Object(l.a)(t,1)[0].get("query")||"",s=Object(r.useMemo)((function(){return c?e.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})):[]}),[c]);return Object(d.jsx)("div",{className:"favouritesPage",children:c?Object(d.jsx)(d.Fragment,{children:s.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:" favouritesPage__number favouritesPage__number--found",children:"".concat(s.length," ").concat(s.length>1?"results":"result")}),Object(d.jsx)(S,{products:s})]}):Object(d.jsx)($,{query:c})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"favouritesPage__nav",children:Object(d.jsx)(w,{})}),Object(d.jsx)("div",{className:"favouritesPage__top",children:e.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"favouritesPage__title",children:"Favourites"}),Object(d.jsx)("div",{className:"favouritesPage__number",children:"".concat(e.length," ").concat(e.length>1?"items":"item")})]}):Object(d.jsx)("h1",{className:"favouritesPage__title",children:"You don't have any favourite products yet"})}),Object(d.jsx)(S,{products:e})]})})},z=function(){var e=Object(o.h)();return Object(d.jsx)("button",{type:"button",className:"backButton",onClick:function(){return e(-1)},children:"Back"})},G=function(e){var t=e.cartItem,c=Object(r.useContext)(O),s=c.removeFromCart,a=c.increase,i=c.decrease,o=t.type,l=t.id,u=t.imageUrl,j=t.name,b=t.price,m=t.discount,_=t.quantityInCart;return Object(d.jsxs)("div",{className:"cartItem",children:[Object(d.jsxs)("div",{className:"cartItem__product-info",children:[Object(d.jsx)("button",{type:"button",className:"cartItem__button-remove",onClick:function(){return s(l)}}),Object(d.jsx)("div",{className:"cartItem__foto",children:Object(d.jsx)(n.b,{to:"/".concat(o,"s/").concat(l),children:Object(d.jsx)("img",{src:u,alt:"".concat(j),className:"cartItem__image"})})}),Object(d.jsx)(n.b,{to:"/".concat(o,"s/").concat(l),className:"cartItem__title",children:j})]}),Object(d.jsxs)("div",{className:"cartItem__product-cost",children:[Object(d.jsxs)("div",{className:"cartItem__counter",children:[Object(d.jsx)("button",{type:"button",disabled:1===_,className:f()("cartItem__counter-button cartItem__counter-button--decrease",{"cartItem__counter-button--decrease-active":_>1}),onClick:function(){return i(l)}}),Object(d.jsx)("div",{className:"cartItem__counter-quantity",children:_}),Object(d.jsx)("button",{type:"button",className:"cartItem__counter-button cartItem__counter-button--increase",onClick:function(){return a(l)}})]}),Object(d.jsx)("div",{className:"cartItem__cost",children:"$".concat(m>0?Math.round(b-b*(m/100))*_:b*_)})]})]})},W=function(){var e=Object(r.useContext)(O).cart;return Object(d.jsx)("ul",{className:"cartListItems",children:e.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(G,{cartItem:e})},e.id)}))})},K=function(){var e=Object(r.useContext)(O),t=e.totalAmount,c=e.totalQuantity,s=Object(r.useState)(!1),a=Object(l.a)(s,2),n=a[0],i=a[1];return Object(d.jsxs)("div",{className:"cartTotal",children:[Object(d.jsx)("div",{className:"cartTotal__amount",children:"$".concat(t)}),Object(d.jsx)("div",{className:"cartTotal__quantity",children:"Total for ".concat(c," ").concat(c>1?"items":"item")}),Object(d.jsx)("div",{className:"cartTotal__line"}),Object(d.jsx)("button",{type:"button",className:"cartTotal__button",onClick:function(){i(!0),setTimeout((function(){i(!1)}),3e3)},children:"Checkout"}),n&&Object(d.jsx)("div",{className:"cartTotal__message",children:"We are sorry, but this feature is not implemented yet"})]})},V=function(){var e=Object(r.useContext)(O).cart;return Object(d.jsxs)("div",{className:"cartPage page__cartPage",children:[Object(d.jsx)(z,{}),Object(d.jsx)("h1",{className:"cartPage__title",children:e.length?"Cart":"Your cart is empty"}),Object(d.jsxs)("div",{className:"cartPage__content",children:[Object(d.jsx)(W,{}),e.length>0&&Object(d.jsx)(K,{})]})]})},X=function(){return Object(d.jsx)("h1",{className:"notFoundPage",children:"Page not found"})},Z=function(){var e=Object(r.useContext)(j),t=e.products,c=e.loading,s=e.suggestedProducts,a=Object(r.useContext)(O),n=a.cart,i=a.addToCart,b=Object(r.useContext)(p),m=b.favourites,h=b.isFavouriteToggle,x=Object(o.i)().productId,v=Object(r.useMemo)((function(){return t.find((function(e){return e.id===x}))}),[t,x]),g=Object(r.useState)(),N=Object(l.a)(g,2),C=N[0],y=N[1],P=Object(r.useState)(!1),k=Object(l.a)(P,2),S=k[0],I=k[1],B=Object(r.useState)(0),D=Object(l.a)(B,2),F=D[0],A=D[1];Object(r.useEffect)((function(){try{(e="".concat(x),u("/products/".concat(e,".json"))).then((function(e){y(e),I(!0)}))}catch(t){I(!1)}var e}),[x]);var q={Screen:null===C||void 0===C?void 0:C.display.screenSize,Resolution:null===C||void 0===C?void 0:C.display.screenResolution,Processor:null===C||void 0===C?void 0:C.hardware.cpu,Ram:null===C||void 0===C?void 0:C.storage.ram},M=Object.entries(q),L=Object(_.a)(Object(_.a)({},q),{},{Bluetooth:null===C||void 0===C?void 0:C.connectivity.bluetooth,Camera:null===C||void 0===C?void 0:C.camera.primary,Battery:null===C||void 0===C?void 0:C.battery.type}),R=Object.entries(L);return Object(d.jsxs)("div",{className:"productsDetailsPage",children:[Object(d.jsx)("div",{className:"productsDetailsPage__nav",children:Object(d.jsx)(w,{})}),Object(d.jsx)(z,{}),S&&c?Object(d.jsx)("div",{className:"productsDetailsPage__item",children:C?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"productsDetailsPage__title",children:null===C||void 0===C?void 0:C.name}),Object(d.jsxs)("div",{className:"productsDetailsPage__content",children:[Object(d.jsxs)("div",{className:"productsDetailsPage__gallery",children:[Object(d.jsx)("ul",{className:"productsDetailsPage__photos",children:null===C||void 0===C?void 0:C.images.map((function(e,t){return Object(d.jsx)("li",{className:"productsDetailsPage__photo",children:Object(d.jsx)("button",{type:"button",className:f()("productsDetailsPage__photo-button",{"productsDetailsPage__photo-button--isActive":t===F}),onClick:function(){return A(t)},children:Object(d.jsx)("img",{src:e,alt:C.name,className:"productsDetailsPage__photo-image"})})},e)}))}),Object(d.jsx)("div",{className:"productsDetailsPage__mainFoto",children:Object(d.jsx)("img",{src:null===C||void 0===C?void 0:C.images[F],alt:null===C||void 0===C?void 0:C.name,className:"productsDetailsPage__photo-image"})})]}),Object(d.jsxs)("div",{className:"productsDetailsPage__card",children:[Object(d.jsxs)("div",{className:"productsDetailsPage__cardId",children:["ID:"," ",null===C||void 0===C?void 0:C.id]}),Object(d.jsx)("div",{className:"productsDetailsPage__line"}),v&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"productsDetailsPage__cost",children:[Object(d.jsx)("div",{className:"productsDetailsPage__price",children:v.discount>0?"$".concat(Math.round(v.price-v.price*(v.discount/100))):"$".concat(v.price)}),v.discount>0&&Object(d.jsxs)("div",{className:"productsDetailsPage__priceInitial",children:["$",v.price]})]}),Object(d.jsxs)("div",{className:" productCard__buttons productCard__buttons--details",children:[Object(d.jsx)("button",{type:"button",className:f()("productCard__buttonToCart","productCard__buttonToCart--details",{"productCard__buttonToCart--inCart":n.some((function(e){return e.id===v.id}))}),disabled:n.some((function(e){return e.id===v.id})),onClick:function(){return i(v)},children:n.some((function(e){return e.id===v.id}))?"Added to cart":"Add to cart"}),Object(d.jsx)("button",{type:"button",className:f()("productCard__buttonToFavourites","productCard__buttonToFavourites--details",{"productCard__buttonToFavourites--isFavourite":m.some((function(e){return e.id===v.id}))}),onClick:function(){return h(v)}})]})]}),Object(d.jsx)("div",{className:" productCard__tech-specs productCard__tech-specs--details",children:M.map((function(e){return Object(d.jsxs)("div",{className:"productCard__tech-specs-item",children:[Object(d.jsx)("div",{className:"productCard__tech-specs-name",children:e[0]}),Object(d.jsx)("div",{className:"productCard__tech-specs-value",children:e[1]||"-"})]},e[0])}))})]})]}),Object(d.jsxs)("div",{className:"productsDetailsPage__content",children:[Object(d.jsxs)("div",{className:"productsDetailsPage__about",children:[Object(d.jsx)("h2",{className:"productsDetailsPage__title-content",children:"About"}),Object(d.jsx)("div",{className:"productsDetailsPage__line"}),Object(d.jsx)("div",{className:"productsDetailsPage__about-text",children:null===C||void 0===C?void 0:C.description})]}),Object(d.jsxs)("div",{className:"productsDetailsPage__techSpecs",children:[Object(d.jsx)("h2",{className:"productsDetailsPage__title-content",children:"Tech specs"}),Object(d.jsx)("div",{className:" productsDetailsPage__line productsDetailsPage__line--techSpecs"}),Object(d.jsx)("div",{className:" productCard__tech-specs productCard__tech-specs--details",children:R.map((function(e){return Object(d.jsxs)("div",{className:"productCard__tech-specs-item",children:[Object(d.jsx)("div",{className:" productCard__tech-specs-name productCard__tech-specs-name--details",children:e[0]}),Object(d.jsx)("div",{className:" productCard__tech-specs-value productCard__tech-specs-value--details",children:e[1]||"-"})]},e[0])}))})]})]}),Object(d.jsx)("div",{className:"productsDetailsPage__slider",children:Object(d.jsx)(T,{title:"You may also like",products:s})})]}):Object(d.jsx)("h1",{className:"productsDetailsPage__title",children:"".concat(null===v||void 0===v?void 0:v.type," ").concat(null===v||void 0===v?void 0:v.name," was not found")})}):Object(d.jsx)(E,{})]})},ee=function(){return Object(d.jsx)(b,{children:Object(d.jsx)(h,{children:Object(d.jsx)(x,{children:Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(o.d,{children:Object(d.jsxs)(o.b,{path:"/",element:Object(d.jsx)(P,{}),children:[Object(d.jsx)(o.b,{index:!0,element:Object(d.jsx)(F,{})}),Object(d.jsxs)(o.b,{path:"phones",children:[Object(d.jsx)(o.b,{index:!0,element:Object(d.jsx)(H,{})}),Object(d.jsx)(o.b,{path:":productId",element:Object(d.jsx)(Z,{})})]}),Object(d.jsxs)(o.b,{path:"tablets",children:[Object(d.jsx)(o.b,{index:!0,element:Object(d.jsx)(Q,{})}),Object(d.jsx)(o.b,{path:":productId",element:Object(d.jsx)(Z,{})})]}),Object(d.jsxs)(o.b,{path:"accessories",children:[Object(d.jsx)(o.b,{index:!0,element:Object(d.jsx)(U,{})}),Object(d.jsx)(o.b,{path:":productId",element:Object(d.jsx)(Z,{})})]}),Object(d.jsx)(o.b,{path:"favourites",element:Object(d.jsx)(Y,{})}),Object(d.jsx)(o.b,{path:"cart",element:Object(d.jsx)(V,{})}),Object(d.jsx)(o.b,{path:"*",element:Object(d.jsx)(X,{})})]})})})})})})};a.a.render(Object(d.jsx)(n.a,{children:Object(d.jsx)(ee,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.1073c42f.chunk.js.map